---
output: github_document
editor: 
  markdown: 
    wrap: 72
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%",
  message = FALSE,
  warning = FALSE
)

library(epoxy)
library(dplyr)
library(readr)
library(stringr)
```

# qechairquality

<!-- badges: start -->
[![DOI](https://zenodo.org/badge/418826351.svg)](https://zenodo.org/badge/latestdoi/418826351)
[![R-CMD-check](https://github.com/Global-Health-Engineering/qechairquality/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/Global-Health-Engineering/qechairquality/actions/workflows/R-CMD-check.yaml)
<!-- badges: end -->

## Overview

This packages contains data collected as part a research study at Queen
Elizabeth Central Hospital (QECH) in Blantyre Malawi. Particulate matter
measurements (PM 2.5 & PM 10) were taken in 5-minute intervals for at
eight sensor locations over two months.

## Manuscript

This data was used for a manuscript subitted to Habitat International
journal. The underlying code can be found in a separate repository. The
`manuscript.qmd` is reproducible.

## Installation

You can install the development version of qechairquality from
[GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("Global-Health-Engineering/qechairquality")
```

Alternatively, you can download the individual datasets as a CSV or XLSX
file from the table below.

```{r, echo=FALSE}

package_name <- "qechairquality"
extdata_path <- paste0("https://github.com/Global-Health-Engineering/", package_name, "/raw/main/inst/extdata/")

read_csv("data-raw/dictionary.csv") |> 
  distinct(file_name) |> 
  mutate(file_name = str_remove(file_name, ".rda")) |> 
  rename(dataset = file_name) |> 
  mutate(
    CSV = paste0("[Download CSV](", extdata_path, dataset, ".csv)"),
    XLSX = paste0("[Download XLSX](", extdata_path, dataset, ".xlsx)")
  ) |> 
  knitr::kable()
```

## Data

The package provides access to two dataset.

```{r}
library(qechairquality)
```

```{epoxy}
The `qechairquality` data set has {ncol(qechairquality)} variables and {nrow(qechairquality)} observations. For an overview of the variable names, see the following table.  
```

```{r, eval=FALSE}
qechairquality
```

```{r, echo=FALSE}
readr::read_csv("data-raw/dictionary.csv") |> 
  dplyr::filter(file_name == "qechairquality.rda") |> 
  dplyr::select(variable_name:description) |> 
  knitr::kable()
```

```{r, eval=FALSE}
locations
```

```{r, echo=FALSE}
readr::read_csv("data-raw/dictionary.csv") |> 
  dplyr::filter(file_name == "locations.rda") |> 
  dplyr::select(variable_name:description) |> 
  knitr::kable()
```

## License

Data are available as
[CC-BY](https://github.com/Global-Health-Engineering/qechairquality/blob/main/LICENSE.md).

